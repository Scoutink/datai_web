You are a senior creative technologist. Build a **single-page interactive web manual** for a corporate document management platform called **CMR DMS / DocAI**. This is not a marketing website. It is a rich, visual, tour-style user manual that guides readers through the platform's features in a flowing, engaging way â€” the way a beautifully designed product guidebook feels, not a corporate brochure.

The content â€” the text, images, and videos â€” is the product. Every structural and design decision must serve the content's readability and exploration. The user should feel like they are being walked through something genuinely worth understanding.

The website must be upload-and-run: drop the folder on any standard web host and browse immediately. No build step, no npm, no server runtime.

---

## WHAT THIS IS AND IS NOT

**IS:**
- A visual, scrollable, chapter-based web manual with a living Three.js background throughout
- A guided tour of all platform features in a logical reading order
- A place where images and videos are first-class citizens with space to breathe
- Engaging enough to make users want to keep reading
- Interactive in-chapter navigation: tab groups, card switchers, and expandable detail panels where the content is dense enough to benefit from it
- Fast to jump around: sidebar chapter links, a floating "Jump to chapter" quick-nav, and cross-chapter reference links within content

**IS NOT:**
- A marketing website with hero sections, CTAs, demo request forms, or contact pages
- A documentation tool with collapsible code blocks
- A multi-page site with separate pages for each feature
- Dark, dim, or difficult to read

---

## FILE STRUCTURE

Organize files logically for clarity and maintainability. Every file below must be created. Add additional JS or CSS files freely wherever it improves separation of concerns â€” do not cram unrelated logic into one file just to keep the count low.

```
/
â”œâ”€â”€ index.html                  â† The entire manual â€” one page, all 13 chapters
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ global.css              â† Reset, CSS variables, typography, base layout
â”‚   â”œâ”€â”€ layout.css              â† Sidebar, header, content column, chapter containers
â”‚   â”œâ”€â”€ components.css          â† Cards, image frames, video players, badges, tables
â”‚   â””â”€â”€ interactive.css         â† Tab groups, card switchers, expandable panels, jump-nav
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ three-bg.js             â† Three.js scene: live background running on all chapters
â”‚   â”œâ”€â”€ three-hero.js           â† Three.js scene: enhanced hero-section overlay (additive)
â”‚   â”œâ”€â”€ sidebar.js              â† Chapter navigation, scroll tracking, progress indicator
â”‚   â”œâ”€â”€ animations.js           â† Intersection Observer scroll reveals, smooth transitions
â”‚   â”œâ”€â”€ tabs.js                 â† In-chapter tab groups and card switchers
â”‚   â””â”€â”€ chapters.js             â† Chapter-specific logic: videos, accordions, jump nav
â”œâ”€â”€ data/
â”‚   â””â”€â”€ chapters.json           â† Chapter metadata (IDs, titles, icon keys) for sidebar
â””â”€â”€ assets/                     â† Already exists â€” do not recreate. Reference by path only.
```

---

## ASSETS MANIFEST

Every image and video reference must use exactly these filenames. Render a styled placeholder for any file not yet present â€” dark-bordered frame with the caption centered in monospace text. Never use broken image icons or external placeholder services.

```
assets/logo.png                â† Header brand mark
assets/hero-dashboard.png      â† Hero section dashboard screenshot
assets/feature-documents.png   â† Document library chapter
assets/feature-sharing.png     â† Sharing & access chapter + user mgmt chapter
assets/feature-workflow.png    â† Workflows chapter
assets/feature-ai.png          â† AI chapter (annotated screenshot)
assets/feature-ai-summary.png  â† AI chapter (summary panel visual)
assets/feature-audit.png       â† Audit & logs chapter
assets/feature-signature.png   â† Signatures & watermarks chapter
assets/feature-search.png      â† Search chapter
assets/feature-comments.png    â† Comments & collaboration chapter
assets/feature-clients.png     â† User management / clients chapter
assets/feature-branding.png    â† Administration chapter (branding section)
assets/feature-multilang.png   â† Administration chapter (language section)
assets/feature-reminders.png   â† Reminders & notifications chapter
assets/feature-file-request.png â† File requests chapter
assets/security-diagram.png    â† Audit & logs / administration chapter
assets/demo-workflow.mp4       â† Workflows chapter embedded video
assets/demo-ai.mp4             â† AI chapter embedded video
```

---

## COLOR PALETTE & AESTHETIC DIRECTION

**Theme**: Bright Clarity. Clean, vibrant, and professional â€” the kind of interface that feels like it was made by people who care about the reader. Think well-designed enterprise documentation with genuine visual warmth. Think clear sky, crisp paper, and purposeful color. NOT dark. NOT dim. NOT depressing.

**Color inspiration**: Bright sky blue, vibrant teal-green, clean white backgrounds, with blue as the dominant identity color and green-teal as a lively accent. This matches the platform's existing visual identity.

```css
/* CSS Variables â€” use all of these */
--blue-900:    #0D3B6E;   /* deep navy â€” used for main headings */
--blue-700:    #1565C0;   /* primary blue â€” buttons, active states, chapter numbers */
--blue-500:    #2196F3;   /* mid blue â€” links, highlights */
--blue-100:    #DDEEFF;   /* very light blue â€” section backgrounds, alternating rows */
--blue-50:     #F0F7FF;   /* near-white blue â€” page background */
--teal-600:    #00897B;   /* teal â€” accent on cards, step indicators, tags */
--teal-400:    #26C6B0;   /* lighter teal â€” hover states, glows */
--green-600:   #2E7D32;   /* deep green â€” success states, checkmarks */
--green-400:   #66BB6A;   /* mid green â€” badge fills */
--white:       #FFFFFF;   /* card surfaces, content panels */
--gray-800:    #1A2332;   /* primary body text */
--gray-500:    #5A6A7A;   /* secondary text, captions */
--gray-200:    #D8E6F3;   /* borders, dividers */
--gray-100:    #EEF4FB;   /* alternate row backgrounds */
--shadow-soft: 0 4px 24px rgba(21, 101, 192, 0.10);
--shadow-card: 0 2px 12px rgba(21, 101, 192, 0.08);
--radius:      12px;
--radius-sm:   8px;
```

**DO NOT USE**: dark backgrounds as the primary surface, purple in any form, Inter or Roboto fonts, all-caps IBM Plex Mono everywhere (use it sparingly for labels only), or any pattern that makes the page feel like a terminal or a dark SaaS landing page.

---

## TYPOGRAPHY

Load from Google Fonts CDN â€” include in `<head>`:
```html
<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;0,700;1,400&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
```

- **Chapter titles / H1â€“H2**: `Lora` serif â€” warmth, authority, readable at large sizes. The italic variant for pull quotes and callouts.
- **Body text / UI copy**: `Plus Jakarta Sans` â€” clean, rounded, friendly but professional. 400 weight for body, 600 for subheadings.
- **Labels, tags, captions, step numbers, version badges**: `Fira Code` monospace â€” only for these specific micro-elements, never for body paragraphs.

**Type scale**:
```css
h1 { font: 700 clamp(2rem, 5vw, 3.5rem)/1.15 'Lora', serif; color: var(--blue-900); }
h2 { font: 700 clamp(1.5rem, 3vw, 2.2rem)/1.2 'Lora', serif; color: var(--blue-900); }
h3 { font: 600 clamp(1.1rem, 2vw, 1.4rem)/1.3 'Plus Jakarta Sans', sans-serif; color: var(--blue-700); }
p  { font: 400 1rem/1.75 'Plus Jakarta Sans', sans-serif; color: var(--gray-800); max-width: 68ch; }
```

---

## THREE.JS BACKGROUND â€” TWO-LAYER SPECIFICATION

Three.js runs in **two layers**:

1. **`three-bg.js` â€” Full-page live background**: A fixed canvas behind all page content, visible through every chapter as the user scrolls. Subtle, never distracting. Uses the same bright-palette document-fragment concept described below but at low intensity (opacity reduced ~40% from hero values) so it does not compete with chapter text.

2. **`three-hero.js` â€” Hero overlay**: A second canvas scoped to the hero section container with higher intensity, richer animation, and the mouse parallax effect. When the hero scrolls out of view, this canvas pauses to save CPU. The full-page canvas keeps running at its low-intensity level throughout.

Both canvases use `pointer-events: none` and `z-index` values that keep them behind all readable content.

The full-page canvas in `three-bg.js` sits at `position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0`. The main content sits at `z-index: 1`. The hero canvas sits at `z-index: 0` within the hero section's stacking context.

---

### `three-bg.js` â€” Full-Page Background

**Concept**: Very gentle, continuous. The same floating document plane field as the hero, but more sparse and more transparent. A slow drift the reader can feel but never consciously notices.

- **Document planes**: 30 (desktop) / 15 (mobile). Same `PlaneGeometry(0.5, 0.65)`. Colors: `0xFFFFFF` at opacity 0.25 and `0x2196F3` at opacity 0.05. Wireframe edges in `0x90CAF9` at opacity 0.08.
- **No connection lines** in the background scene â€” those are hero-only.
- **Animation**: Scene rotates at half the hero speed. No individual mesh float (saves performance). No mouse parallax in the background layer.
- **Performance**: Use `requestAnimationFrame` at 30fps cap for the background (every other frame). On mobile reduce to 10 planes.
- **Resize**: Update on window resize.

---

### `three-hero.js` â€” Hero Section Enhanced Overlay

**Concept**: A soft, luminous field of floating document shapes on a gradient blue sky â€” documents gently orbiting, carrying data. Warm, professional, visually alive. Not dark space. Not particles.

**Implementation in `js/three-hero.js`**:

1. **Canvas setup**: `<canvas id="hero-canvas">` inside the hero section. Position it absolute, fill the hero section bounds (not the entire page). `z-index: 0`. Hero text and intro content sit above it at `z-index: 1`. `pointer-events: none` on canvas.

2. **Background**: Use `renderer.setClearColor(0xDDEEFF, 1)` â€” a soft blue. The CSS hero section has a gradient from `var(--blue-100)` to `var(--blue-50)` as a fallback.

3. **Document planes**: 40 `PlaneGeometry(0.5, 0.65)` planes. Material: `MeshBasicMaterial`, colors alternating between `0xFFFFFF` (opacity 0.7) and `0x2196F3` (opacity 0.12). Add a wireframe companion mesh in `0x1565C0` at opacity 0.15 to suggest paper edges. Scatter in a hemisphere above the viewer, radius 10.

4. **Gentle lines**: 15 thin connection lines between random document pairs using `LineBasicMaterial({ color: 0x90CAF9, opacity: 0.2, transparent: true })`. These suggest data flow.

5. **Animation loop**:
   - Whole group slowly rotates: `group.rotation.y += 0.0002`.
   - Each plane has individual vertical float: `mesh.position.y += Math.sin(Date.now() * 0.001 + mesh.userData.phase) * 0.003`.
   - Each plane has very slow individual Z rotation: `mesh.rotation.z += mesh.userData.spin` (random 0.0001â€“0.0005).

6. **Camera**: `PerspectiveCamera(55, aspect, 0.1, 50)` at `z = 7`. No user interaction.

7. **Mouse parallax** on desktop only: gentle `camera.position.x` and `.y` shift Â±0.3 units, lerped at 0.04.

8. **Mobile**: If `window.innerWidth < 768`, reduce planes to 20, disable mouse parallax, halve line count.

9. **Resize**: Update camera aspect and renderer size on `window.resize`.

10. **On scroll**: Once the hero section scrolls out of view (hero bottom crosses viewport top), pause the animation loop with `cancelAnimationFrame`. Resume when it re-enters. This preserves CPU for reading.

---

## PAGE ARCHITECTURE

This is a **single HTML file** (`index.html`) with a two-column layout:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HEADER  (logo + manual title + chapter count)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                       â”‚
â”‚  SIDEBAR     â”‚   CONTENT AREA                        â”‚
â”‚  (fixed,     â”‚   (scrollable, full chapters)         â”‚
â”‚  left)       â”‚                                       â”‚
â”‚              â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### HEADER (fixed, full width)
- Height: 60px on desktop, 56px on mobile.
- Background: `var(--white)` with a 1px bottom border in `var(--gray-200)` and a soft shadow.
- Left: `assets/logo.png` (32px height, auto width) + platform name **"CMR DMS / DocAI"** in Lora 600.
- Right: **"User Manual"** label in Fira Code, small, `var(--blue-700)` color. And a chapter progress indicator: `Chapter 3 of 13` updated dynamically as user scrolls.
- On mobile: logo + title only. Hamburger icon (â˜°) to toggle sidebar drawer.

### SIDEBAR (fixed left, scrolls independently)
- Width: 280px on desktop. Full-screen drawer on mobile (slides in from left on hamburger tap).
- Background: `var(--white)`, right border `1px var(--gray-200)`.
- Top of sidebar: a thin progress bar (full width, 4px tall) in `var(--blue-700)` that fills from 0% to 100% as the user scrolls through the full page.
- Chapter list: 13 chapters listed vertically. Each item shows:
  - A chapter number badge: small circle in `var(--blue-700)` with white Fira Code number.
  - Chapter title in Plus Jakarta Sans 500.
  - A completion dot (filled teal circle) once that chapter has been scrolled past.
- Active chapter is highlighted: left border 3px `var(--blue-700)`, background `var(--blue-50)`, text `var(--blue-700)` bold.
- Clicking a chapter smoothly scrolls to that section (`scroll-behavior: smooth`).
- Below the chapter list: a thin rule, then the logo repeated small, then platform name + "User Manual v2" in Fira Code.

### CONTENT AREA (right of sidebar, scrollable)
- Left margin = sidebar width. Right padding generous.
- Maximum content width: 900px (centered within the content area).
- This is where all 13 chapters live, stacked vertically.

---

## CHAPTER LAYOUT SYSTEM

Every chapter follows this structure. No exceptions. No inconsistency.

```html
<section class="chapter" id="ch-N" data-chapter="N">
  <div class="chapter-header">
    <span class="chapter-number">Chapter N</span>
    <h2 class="chapter-title">Title Here</h2>
    <p class="chapter-intro">One or two sentence overview of this chapter.</p>
  </div>
  <div class="chapter-body">
    <!-- Feature blocks, images, videos, tables, step lists go here -->
  </div>
</section>
```

**Chapter header styling**:
- `chapter-number`: Fira Code, small, `var(--blue-500)`, uppercase, letter-spacing 0.15em. Example: `CHAPTER 01`.
- `chapter-title`: Lora 700, large, `var(--blue-900)`.
- `chapter-intro`: Plus Jakarta Sans 400, `var(--gray-500)`, italic, `max-width: 60ch`.
- A horizontal rule after the intro: 2px, gradient from `var(--blue-700)` to `var(--teal-400)`, width 80px. Not full-width â€” a short decorative accent.

**Within `chapter-body`**, use these sub-components:

#### Feature Block (main repeating unit)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  image (full width or    â”‚
â”‚  half width on desktop)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  h3 Feature Name         â”‚
â”‚  body text paragraph     â”‚
â”‚  detail list             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
On desktop â‰¥ 900px: image left (55% width), text right (40% width), with gap. On mobile: image stacks above text.

The image is displayed in a `.img-frame` div:
```css
.img-frame {
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-soft);
  border: 1px solid var(--gray-200);
  background: var(--gray-100);
  aspect-ratio: 16/10;
  display: flex; align-items: center; justify-content: center;
}
.img-frame img { width: 100%; height: 100%; object-fit: cover; display: block; }
```
Placeholder styling when image is missing: `background: var(--blue-50)`, centered caption text in `Fira Code var(--gray-500)`.

#### Step List
Numbered steps with a visual connector line:
```css
.step-list { list-style: none; padding: 0; position: relative; }
.step-list::before { content:''; position: absolute; left: 16px; top: 0; bottom: 0;
  width: 2px; background: linear-gradient(to bottom, var(--blue-700), var(--teal-400)); }
.step-item { padding: 0 0 24px 48px; position: relative; }
.step-number { position: absolute; left: 0; top: 0; width: 32px; height: 32px;
  border-radius: 50%; background: var(--blue-700); color: white;
  font: 500 0.8rem/32px 'Fira Code'; text-align: center; }
```

#### Detail List (feature bullet points)
Teal checkmark bullets using a Unicode `âœ¦` or CSS `::before` in `var(--teal-600)`. Clean left-aligned list, `1.8rem` line height, no extra margin madness.

#### Info Box / Note
```css
.info-box {
  background: var(--blue-50);
  border-left: 4px solid var(--blue-500);
  border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
  padding: 16px 20px;
  margin: 24px 0;
}
```
Use for "Note:", tips, or important clarifications from the manual.

#### Video Block
```html
<div class="video-frame">
  <video src="assets/demo-workflow.mp4" autoplay muted loop playsinline controls></video>
  <p class="video-caption">Caption text here</p>
</div>
```
```css
.video-frame {
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-soft);
  background: var(--blue-900);
  margin: 32px 0;
}
.video-frame video { width: 100%; display: block; }
.video-caption { font: 400 0.85rem 'Fira Code'; color: var(--gray-500); text-align:center; padding: 12px; }
```
If the `.mp4` file is missing, show a placeholder frame with a â–¶ play icon drawn in CSS and the caption text.

#### Comparison Table
A two-column table for Before/After comparisons. First column: light red-tinted background `#FFF0F0`, text `#B71C1C`. Second column: light green-tinted background `#F0FFF4`, text `var(--green-600)`. No heavy borders â€” just subtle row separators.

#### Data Table (for cron jobs, audit fields, etc.)
```css
.data-table { width: 100%; border-collapse: collapse; font-family: 'Plus Jakarta Sans'; font-size: 0.9rem; }
.data-table th { background: var(--blue-700); color: white; padding: 10px 16px; text-align: left; font-weight: 600; }
.data-table td { padding: 10px 16px; border-bottom: 1px solid var(--gray-200); }
.data-table tr:nth-child(even) td { background: var(--gray-100); }
.data-table tr:hover td { background: var(--blue-50); }
```

#### Chapter Divider
Between chapters: a full-width `<hr>` styled as a soft gradient line `var(--blue-100)` to transparent, plus a chapter number watermark centered above the next chapter in giant faint Lora italic.

---

## HERO SECTION (before Chapter 1)

Above all chapters, a hero intro section. This is the only place Three.js is used.

```html
<section id="hero">
  <canvas id="hero-canvas"></canvas>
  <div class="hero-content">
    <div class="hero-badge">USER MANUAL</div>
    <h1>CMR DMS / DocAI</h1>
    <p class="hero-subtitle">
      A complete guide to the platform â€” from your first upload to a fully automated,
      audited, AI-assisted document operation.
    </p>
    <div class="hero-meta">
      <span>13 Chapters</span>
      <span>Â·</span>
      <span>Full Feature Coverage</span>
      <span>Â·</span>
      <span>DocAI_User_Manual_v2</span>
    </div>
    <div class="hero-quick-start">
      <h3>Quick Start</h3>
      <ol>
        <li>Find your documents in <strong>All Documents</strong> or <strong>Assigned Documents</strong>.</li>
        <li>Upload using <strong>Add Document</strong> or <strong>Bulk Upload</strong> for multiple files.</li>
        <li>Control access via <strong>Share Document</strong> or a <strong>Shareable Link</strong>.</li>
        <li>Stay on track with <strong>Reminders</strong> and <strong>Notifications</strong>.</li>
        <li>Automate processes with <strong>Workflows</strong> and review in <strong>Workflow Logs</strong>.</li>
      </ol>
    </div>
    <a href="#ch-1" class="hero-cta">Start Reading â†“</a>
    <img src="assets/hero-dashboard.png" class="hero-dashboard" alt="Platform dashboard overview">
  </div>
</section>
```

Hero styling:
- Section min-height: `100vh`. Background: CSS gradient `linear-gradient(160deg, #DDEEFF 0%, #F0F7FF 60%, #E8F5E9 100%)`.
- Canvas fills the section absolutely behind content.
- `.hero-badge`: Fira Code, tiny, `var(--blue-700)` color, `var(--blue-100)` background, border-radius 4px, padding 4px 10px. Letter spacing 0.2em.
- `h1`: Lora 700, very large. `var(--blue-900)`.
- `.hero-subtitle`: Plus Jakarta Sans 300, large, `var(--gray-800)`, max-width 52ch.
- `.hero-meta`: Fira Code, small, `var(--gray-500)`. Dot separators.
- `.hero-quick-start`: A compact, clean-bordered box (`border: 1px solid var(--gray-200)`, `background: rgba(255,255,255,0.85)`, `border-radius: var(--radius)`, `padding: 24px`). Numbered list with `var(--blue-700)` number color. Strong elements in `var(--blue-700)`.
- `.hero-cta`: A clean button. `background: var(--blue-700)`, white text, Lora 600, `border-radius: var(--radius-sm)`, generous padding, hover lifts with `box-shadow: 0 8px 24px rgba(21,101,192,0.3)`, `transform: translateY(-2px)`. Smooth transition.
- `.hero-dashboard`: The dashboard screenshot. Display it below the intro text. `width: 100%; max-width: 860px; border-radius: var(--radius); box-shadow: 0 16px 64px rgba(21,101,192,0.18); border: 1px solid var(--gray-200); margin-top: 40px`. On desktop: perspective tilt `transform: perspective(1400px) rotateX(5deg)`. Remove tilt on mobile.

---

## ALL 13 CHAPTERS â€” FULL CONTENT SPECIFICATION

Every chapter below maps directly to a section of `DocAI_User_Manual_v2.md`. The chapter number badge, title, and intro must be exactly as specified. All detail text must come from the manual â€” do not invent or paraphrase beyond what is there.

---

### Chapter 1 â€” Getting Started
**ID**: `ch-1` | **Manual**: Â§3

**Intro**: *The first things an administrator should configure before onboarding users.*

**Sub-section: Homepage â€” Documents by Category**
Body text: The homepage displays document statistics organized by category, showing the total count per category. Use it as your dashboard overview every time you log in â€” at a glance you can see which departments have the most or fewest files.

**Sub-section: Company Profile**
Body text from manual Â§3 Company Profile. Display as a **step list** (3 steps: Enter name â†’ Upload logo â†’ Upload banner â†’ Save). After the steps, an info box: *"The company name you enter here will appear dynamically as the browser tab title across the entire platform."*

Fields table â€” render as a two-column `.data-table`:
| Field | Requirement |
|---|---|
| Company Name | 2â€“50 characters. Appears as browser tab title. |
| Logo | PNG/JPG/JPEG, max 2 MB. Recommended: 200Ã—100px. Shown in login page header. |
| Banner Logo | PNG/JPG/JPEG, max 3 MB. Recommended: 1200Ã—300px. Shown on login screen below header. |

**Sub-section: Your User Profile**
Fields as a `.data-table` (two columns: Field, Description) â€” all 7 fields from the manual (First Name, Last Name, Mobile Number, Email Address, Password, Confirm Password, Role). Info box: *"Fields with errors are highlighted with inline messages. Click Submit once all required fields are filled in correctly."*

**Sub-section: Language Settings**
Short paragraph from manual Â§3 Language Settings. Info box with teal left border: *"Administrators can add, update, and remove language options at any time. Users interact with the full platform in their configured language."*

**Image**: `assets/feature-branding.png` â€” shown half-width on the right alongside the Company Profile steps on desktop.

---

### Chapter 2 â€” User & Access Management
**ID**: `ch-2` | **Manual**: Â§4

**Intro**: *How to create accounts, define roles, assign permissions, and manage your client directory.*

**Sub-section: Users**
Body text from Â§4 Users. Add/Edit/Delete/Permissions/Reset Password as a detail list with teal checkmark bullets. Step list for "To add a new user" (3 steps).

**Sub-section: Roles**
Body text from Â§4 Roles. Step list for creating a role (4 steps). Info box: *"Permissions can include: view, edit, delete, share documents; manage users; define categories; sign documents; and more."*

**Sub-section: Assigning Roles to Users**
Body text from Â§4 on drag-and-drop. Step list (4 steps). Info box highlighting the drag-and-drop interaction: *"Use your mouse or touch device: drag a user from the All Users list on the left and drop them into the Users with Role list on the right."*

**Sub-section: Individual User Permissions**
Short paragraph. Info box: *"This is useful when a user occasionally needs access to a feature not covered by their role â€” without creating an entirely new role just for them."*

**Sub-section: Clients**
Body text from Â§4 Clients. Two mini step lists side by side on desktop: "Add New Client" (3 steps) and "Edit Existing Client" (4 steps).

**Images**: `assets/feature-sharing.png` (half width, for roles section) | `assets/feature-clients.png` (half width, for clients section)

---

### Chapter 3 â€” Document Library
**ID**: `ch-3` | **Manual**: Â§5

**Intro**: *Where users browse, filter, and monitor the full lifecycle of every document.*

**Sub-section: All Documents**
Paragraph from Â§5. Search and filter options as a detail list. Then the document actions as a `.data-table`:

| Action | What it does |
|---|---|
| Edit | Update name, description, or meta tags. |
| Share | Grant access to users or roles. |
| Get Shareable Link | Generate a public or password-protected link with optional expiry. |
| AI Summary | Generate an instant AI summary of the document. |
| View | Open the document in the built-in viewer. |
| Upload a New Version | Add an updated file â€” original is preserved. |
| Version History | View, restore, or download previous versions. |
| Comment | Add or read threaded comments on the document. |
| Add Reminder | Set a date-based reminder tied to this document. |
| Send as Email | Send the document as an email attachment. |
| Add Watermark | Apply a text watermark across all PDF pages. |
| Document Signature | Digitally sign the document. |
| Delete | Permanently remove the document. |

Info box: *"You can select one, multiple, or all documents and use the bulk Share option to distribute them to users or groups in a single action."*

**Sub-section: Assigned Documents**
Paragraph from Â§5. Two detail items that differ from All Documents: Status dropdown, My Reminders panel. Full column list of what each entry shows: name, status, category, creation date, expiration date, created by.

**Sub-section: Archived Documents**
Paragraph from Â§5.

**Sub-section: Expired Documents**
Paragraph from Â§5. Info box: *"Expired documents are automatically flagged by the system. This prevents outdated versions from being used in active processes."*

**Image**: `assets/feature-documents.png` â€” full width at top of chapter, below the chapter header, as a showcase image. Use full-width `.img-frame` with `aspect-ratio: 16/9`.

---

### Chapter 4 â€” Creating & Managing Documents
**ID**: `ch-4` | **Manual**: Â§6

**Intro**: *How to upload, version, and annotate documents.*

**Sub-section: Adding a Document**
Form fields as a detail list (Upload Document, Category, Name, Status, Description, Meta Tags). Info box with two-part clarification: *"The Status field on the upload form controls access visibility (e.g., Confidential or Public). Separately, documents also carry a lifecycle status â€” Draft, Final, or Archived â€” managed via Document Status settings. These two controls are independent."*

**Sub-section: Bulk Document Upload**
Step list (7 steps) from Â§6.

**Sub-section: Version History**
Two mini step lists: "To upload a new version" (3 steps) and "To view or restore a previous version" (3 steps, including the Restore behavior description).

**Sub-section: Comments**
Short paragraph from Â§6 Comments.

---

### Chapter 5 â€” Sharing & Collaboration
**ID**: `ch-5` | **Manual**: Â§7

**Intro**: *Share documents securely, collect signatures, protect with watermarks, and communicate through email.*

**Sub-section: Share Document**
Step list (5 steps) for sharing. Then a detail list for the optional configuration options (Share Duration, Allow Download, Allow Email Notification). Info box: *"If Allow Email Notification is checked, SMTP must be configured. An error is shown if SMTP settings are missing."* Then: how to remove access (2 steps).

**Sub-section: Shareable Link**
Three-item detail list (Start/Expiry Dates, Password Protection, Download Permission). Info box: *"All options are optional â€” links can be as open or as restricted as needed. The recipient needs no account to access the document."*

**Sub-section: Sending a Document by Email**
Step list (5 steps) from Â§7.

**Sub-section: Digital Signatures**
Step list (4 steps). Then a detail list of key features (direct PDF signing, company profile inclusion, encrypted output, annotation flexibility).

**Sub-section: Document Watermarks**
Step list (3 steps). Info box: *"Every watermark action creates a new document version. The original is always preserved in version history."*

**Images**: `assets/feature-signature.png` (for signatures section) | `assets/feature-sharing.png` (for share document section) â€” half-width, alternating left/right on desktop.

---

### Chapter 6 â€” File Requests
**ID**: `ch-6` | **Manual**: Â§8

**Intro**: *Collect documents from anyone â€” internal or external â€” without requiring an account.*

**Sub-section: Creating a File Request**
Step list (3 steps). Then a sub-list of configuration options (Subject, Email, Allowed File Extensions, Maximum File Size, Maximum Documents, Link Expiration). Then a detail list of per-request management actions (Edit, Delete, Copy Link).

**Sub-section: Reviewing Submitted Documents**
Three-item detail list (Preview, Approve, Reject â€” with the reject comment examples from the manual). Then a status reference as a small inline table:

| Status | Meaning |
|---|---|
| Pending | Awaiting review |
| Approved | Accepted and finalized |
| Rejected | Needs correction â€” reason provided |

**Image**: `assets/feature-file-request.png` â€” half-width, right side, alongside the Creating section.

---

### Chapter 7 â€” Search
**ID**: `ch-7` | **Manual**: Â§9

**Intro**: *Find any document â€” by name, by tag, or by what's written inside it.*

**Sub-section: Standard Search**
Short paragraph. Detail list: name, meta tags, category, storage, creation date.

**Sub-section: Deep Search**
Longer paragraph. Detail list of all 5 behaviors from the manual (top 10 results, case-insensitive, stop words excluded, word stemming, supported file types). Info box styled with teal border: *"Searching 'run' will also return results for 'running' and 'runs'. Common words like 'and', 'the', and 'is' are automatically excluded to improve precision."*

**Image**: `assets/feature-search.png` â€” half-width left, text right.

---

### Chapter 8 â€” Reminders & Notifications
**ID**: `ch-8` | **Manual**: Â§10

**Intro**: *Time-based alerts tied to documents or events, delivered in-app and by email.*

**Sub-section: Reminders**
Step list (3 steps â€” click Add Reminder, fill form, save). Then a `.data-table` for the form fields:

| Field | Options / Description |
|---|---|
| Subject | Title of the reminder (e.g., "Contract Review Due") |
| Message | Additional details or instructions |
| Reminder Date | When the reminder triggers |
| Repeat Reminder | Daily / Weekly / Monthly / Semi-annually / Custom date |
| Send Email | Also sends an email notification when triggered |
| Select Users | Choose individuals or groups to receive the reminder |

**Sub-section: Notifications**
Two-item detail list (Document Shared Notification, Reminder Notifications) from Â§10. Info box: *"External users who receive shared documents are notified with a secure access link â€” no account required."*

**Image**: `assets/feature-reminders.png` â€” full width below the chapter header.

---

### Chapter 9 â€” Workflows
**ID**: `ch-9` | **Manual**: Â§11

**Intro**: *Multi-step approvals and review processes â€” built, tracked, and logged.*

**Sub-section: Managing Workflows**
Body text from Â§11 Managing Workflows. Two mini step lists: "Creating a new workflow" (3 steps) and "Editing an existing workflow" (3 items).

**Sub-section: All Workflows**
Paragraph. Workflow status `.data-table`:

| Status | Meaning |
|---|---|
| Completed | Fully executed |
| Initiated | Started, not yet progressed |
| In Progress | Actively running |
| Cancelled | Stopped before completion |

Then: graphical view description (completed transitions vs pending transitions distinction). Then: clickable steps behavior.

**Sub-section: My Workflows (Current Workflows)**
Paragraph. Info box: *"This page shows only the workflows you are personally authorized to manage or participate in â€” a focused, user-specific view."*

**Sub-section: Workflow Logs**
Paragraph from Â§11 Workflow Logs.

**Video**: `assets/demo-workflow.mp4` â€” full-width video block above the Managing Workflows sub-section. If missing, placeholder with â–¶ icon and caption "Workflow automation in action".

**Image**: `assets/feature-workflow.png` â€” half-width right, alongside the All Workflows sub-section.

---

### Chapter 10 â€” AI Features
**ID**: `ch-10` | **Manual**: Â§12

**Intro**: *Generate documents, summarize existing files, search inside content, and accelerate repeat work with templates.*

**Sub-section: AI Document Generator**
Step list (5 steps from Â§12). Then: Tips for better results as a detail list (2 tips). Then: Technical notes as an info box. Then: a `.data-table` for common issues:

| Issue | Cause | Solution |
|---|---|---|
| Nothing is generated | Blank prompt or network error | Enter a valid prompt and check your connection. |
| 419 Error | Missing CSRF token | Ensure you're logged in with a valid session. |
| API Failed | OpenAI rate limit | Wait a few minutes and try again. |

**Sub-section: AI Document Summary**
Paragraph: "Select any document already in your library and generate an instant AI summary from the document action menu. Useful for reviewing lengthy files, quickly extracting key points, or onboarding team members to an existing policy or contract without reading the full document."

**Sub-section: Deep Search** *(cross-reference link to Chapter 7)*
Brief paragraph noting this feature and a linked reference: *"See Chapter 7 â€” Search for full Deep Search details."*

**Sub-section: AI Prompt Templates**
Step list (4 steps from Â§12). Info box: *"Administrators can create, edit, and delete templates from the admin panel. Templates support any number of named placeholders."*

**Sub-section: AI Document List**
Two-item detail list (Prompt field, Output field). Paragraph on use cases from Â§12.

**Video**: `assets/demo-ai.mp4` â€” full-width video block at the top of the chapter, after the chapter header.

**Images**: `assets/feature-ai.png` (full-width, for AI Generator section, with 4 annotation callout labels absolutely positioned: Prompt Input, Streaming Output, Editor Toolbar, Save/Export) | `assets/feature-ai-summary.png` (half-width, for AI Summary section)

---

### Chapter 11 â€” Administration & Settings
**ID**: `ch-11` | **Manual**: Â§13

**Intro**: *Platform configuration: categories, statuses, storage, file types, email, and in-app help.*

**Sub-section: Document Categories**
Paragraph. Step list for adding (3 steps). Step list for viewing subcategories (3 steps).

**Sub-section: Document Status**
Three-item detail list (Draft, Final, Archived) with descriptions. Info box: *"Lifecycle status is separate from the access visibility field (Confidential / Public) set at upload. They control different things."*

**Sub-section: Storage Settings**
`.data-table` for storage types:

| Type | Required Fields | Notes |
|---|---|---|
| Local | None | Default, cannot be deleted. Always available as a fallback. |
| AWS S3 | Access Key, Secret Key, Bucket Name | Cloud storage with optional encryption. |

Detail list for options (Enable Encryption, Set as Default). Info box: *"When you save a new configuration, the system uploads a test file to verify the connection. If the test fails, you are prompted to correct the settings before they are applied."*

**Sub-section: Allowed File Extensions**
Step list (4 steps from Â§13).

**Sub-section: Email (SMTP) Settings**
Step list (3 steps â€” go to settings, fill form, save). Form fields as detail list: Username, Host, Port, Is Default. Info box: *"Multiple SMTP configurations can be stored. Only the one marked as default is used automatically."*

**Sub-section: Page Helpers**
Paragraph from Â§13. Two-item detail list (View, Edit).

**Image**: `assets/feature-branding.png` (half-width, branding section) | `assets/feature-multilang.png` (half-width, language section) | `assets/security-diagram.png` (full-width, storage section)

---

### Chapter 12 â€” Auditing & Logs
**ID**: `ch-12` | **Manual**: Â§14

**Intro**: *Accountability and traceability for every document action, login, email, and automated task.*

**Sub-section: Document Audit History**
Search fields as a detail list (by document name, by meta tag, by user). Then a paragraph on what each audit entry shows. Then: sortable columns as a horizontal tag list styled with small `var(--blue-100)` pill backgrounds in Fira Code. Info box: *"Click any entry to view additional details or navigate directly to the associated document."*

**Sub-section: Login Audit Logs**
Paragraph. Fields detail list (username, login date/time, IP address, result).

**Sub-section: Email Logs**
Fields as a `.data-table`:

| Field | Description |
|---|---|
| Email ID | Unique identifier for each email sent |
| Timestamp | Date and time sent |
| Sender | The email address the message was sent from |
| Recipient | Destination email address |
| Subject | Email subject line |
| Body | Preview of message content |
| Attachments | Any files included in the email |
| Delivery Status | Sent / Failed / Queued / Delivered / Opened / Bounced |
| Error Details | If delivery failed, the error reason is captured |

**Sub-section: Cron Job Logs**
Introductory paragraph. Then a full `.data-table` of all 12 scheduled jobs:

| Job | Schedule | Purpose |
|---|---|---|
| Custom Date Reminder | On demand | Sends reminders on user-defined custom dates |
| Daily Notification Handler | Daily | Aggregates and dispatches daily document alerts |
| Weekly Reminder | Weekly | Recurring weekly reminders for document actions |
| Monthly Reminder | Monthly | Monthly deadline and review notifications |
| Quarterly Reminder | Every 3 months | Quarterly document review prompts |
| Half Yearly Reminder | Every 6 months | Semi-annual renewal and review alerts |
| Yearly Reminder | Annual | Annual compliance and renewal notifications |
| Notification Scheduler | Continuous | Coordinates all scheduled notification delivery |
| Send Email | Triggered | Processes all queued outgoing emails reliably |
| Delete Archive By Retention Date | Daily | Auto-deletes archived documents past their retention period |
| Delete/Archive/Expire By Retention | Daily | Applies retention rules: delete, archive, or expire |
| Delete Email, Audit & Cron Logs | Periodic | Cleans up old log records to maintain system performance |

Info box: *"This log acts as a system automation audit trail â€” valuable during compliance reviews and for troubleshooting notification delivery issues."*

**Image**: `assets/feature-audit.png` â€” full width below the chapter header, before the sub-sections.

---

### Chapter 13 â€” Retention & Cleanup
**ID**: `ch-13` | **Manual**: Â§15

**Intro**: *Automatic document deletion policies to keep storage organized and compliant.*

**Sub-section: Archive Document Retention Period**
Paragraph from Â§15. Retention options displayed as a horizontal row of 5 option badges (styled pill buttons, non-interactive, decorative):

```
[ 30 days ]  [ 60 days ]  [ 90 days ]  [ 180 days ]  [ 365 days ]
```

Each badge: `background: var(--blue-100)`, `border: 1px solid var(--blue-500)`, `border-radius: 20px`, `padding: 6px 18px`, `font: 600 0.9rem 'Fira Code'`, `color: var(--blue-700)`.

Then: how it works as a 2-step process: Enable the setting â†’ system monitors document age â†’ auto-deletes at threshold.

Info box with green left border: *"Enabling this feature helps keep your workspace organized and ensures compliance with data retention policies â€” without any manual intervention."*

**Closing block** (after Chapter 13, still within the content area):
```html
<div class="manual-end">
  <div class="manual-end-icon">âœ¦</div>
  <h2>End of Manual</h2>
  <p>For additional support, contact your system administrator or reach out via the Help Center.</p>
  <p class="manual-version">CMR DMS / DocAI Â· User Manual v2 Â· DocAI_User_Manual_v2.md</p>
</div>
```
Style: centered, `padding: 80px 40px`, light teal/blue gradient background across full width of content area, gentle rounded top corners. The âœ¦ icon large, `color: var(--teal-400)`.

---

## INTERACTIVE NAVIGATION â€” SPECIFICATION (`js/tabs.js`, `js/chapters.js`)

Beyond linear scrolling, two layers of interactivity improve how dense chapters are explored:

---

### 1. Floating Jump-Nav Button

A persistent floating button â€” bottom-right corner on desktop, bottom-center on mobile â€” that opens a compact chapter quick-jump panel. This gives users a way to jump instantly without scrolling back up to the sidebar.

**Implementation**:
```html
<div id="jump-nav">
  <button id="jump-trigger" aria-label="Jump to chapter">
    <span class="jump-icon">â˜°</span>
    <span class="jump-label">Chapters</span>
  </button>
  <div id="jump-panel" role="dialog" aria-label="Chapter quick-jump">
    <!-- 13 compact chapter links, generated from data/chapters.json -->
  </div>
</div>
```
```css
#jump-nav {
  position: fixed;
  bottom: 32px; right: 32px;
  z-index: 200;
}
#jump-trigger {
  background: var(--blue-700);
  color: white;
  border: none;
  border-radius: 50px;
  padding: 12px 20px;
  font: 600 0.85rem 'Plus Jakarta Sans';
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(21, 101, 192, 0.35);
  display: flex; align-items: center; gap: 8px;
  transition: transform 0.2s, box-shadow 0.2s;
}
#jump-trigger:hover { transform: translateY(-2px); box-shadow: 0 8px 28px rgba(21,101,192,0.45); }
#jump-panel {
  position: absolute; bottom: 56px; right: 0;
  background: var(--white);
  border: 1px solid var(--gray-200);
  border-radius: var(--radius);
  box-shadow: var(--shadow-soft);
  width: 240px;
  max-height: 400px; overflow-y: auto;
  opacity: 0; transform: translateY(8px) scale(0.97);
  pointer-events: none;
  transition: opacity 0.2s, transform 0.2s;
}
#jump-panel.open { opacity: 1; transform: none; pointer-events: all; }
```
Each panel item: chapter number in Fira Code teal + chapter title in Plus Jakarta Sans. Clicking closes panel and smooth-scrolls to the chapter.

---

### 2. `data/chapters.json` â€” Chapter Metadata

Generate the sidebar and jump-nav from this JSON file. Read it once on page load in `sidebar.js`.

```json
[
  { "id": "ch-1",  "num": "01", "title": "Getting Started",            "icon": "âš™" },
  { "id": "ch-2",  "num": "02", "title": "User & Access Management",   "icon": "ğŸ‘¥" },
  { "id": "ch-3",  "num": "03", "title": "Document Library",           "icon": "ğŸ“" },
  { "id": "ch-4",  "num": "04", "title": "Creating & Managing Docs",   "icon": "ğŸ“„" },
  { "id": "ch-5",  "num": "05", "title": "Sharing & Collaboration",    "icon": "ğŸ”—" },
  { "id": "ch-6",  "num": "06", "title": "File Requests",              "icon": "ğŸ“¥" },
  { "id": "ch-7",  "num": "07", "title": "Search",                     "icon": "ğŸ”" },
  { "id": "ch-8",  "num": "08", "title": "Reminders & Notifications",  "icon": "ğŸ””" },
  { "id": "ch-9",  "num": "09", "title": "Workflows",                  "icon": "âš¡" },
  { "id": "ch-10", "num": "10", "title": "AI Features",                "icon": "ğŸ¤–" },
  { "id": "ch-11", "num": "11", "title": "Administration & Settings",  "icon": "ğŸ› " },
  { "id": "ch-12", "num": "12", "title": "Auditing & Logs",            "icon": "ğŸ“‹" },
  { "id": "ch-13", "num": "13", "title": "Retention & Cleanup",        "icon": "ğŸ—‚" }
]
```

---

### 3. In-Chapter Tab Groups

Use tab groups in chapters where the content naturally splits into 2â€“4 parallel views that a user would want to switch between rather than scroll through sequentially. Implement in `js/tabs.js`.

**Tab group CSS** (in `interactive.css`):
```css
.tab-group { margin: 32px 0; }
.tab-list {
  display: flex; gap: 0; border-bottom: 2px solid var(--gray-200);
  overflow-x: auto; /* scroll on mobile */
}
.tab-btn {
  font: 600 0.9rem 'Plus Jakarta Sans';
  color: var(--gray-500);
  background: transparent;
  border: none; border-bottom: 3px solid transparent;
  padding: 12px 20px; cursor: pointer;
  white-space: nowrap;
  margin-bottom: -2px;
  transition: color 0.2s, border-color 0.2s;
}
.tab-btn.active { color: var(--blue-700); border-bottom-color: var(--blue-700); }
.tab-panel { display: none; padding: 24px 0; animation: fadeIn 0.25s ease; }
.tab-panel.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: none; } }
```

**`tabs.js`** initializes all `.tab-group` elements on the page: sets the first tab active, listens for clicks, toggles `.active` on both buttons and panels. Keyboard: left/right arrows navigate tabs; Enter/Space activates.

**Where to apply tab groups â€” mandatory:**

- **Chapter 2 (User & Access Management)**: Tabs â†’ `Users` / `Roles` / `Role Assignment` / `Clients`. Each tab shows its sub-section content independently. The drag-and-drop explanation for Role Assignment benefits especially from being isolated.

- **Chapter 5 (Sharing & Collaboration)**: Tabs â†’ `Share Document` / `Shareable Link` / `Send by Email` / `Signatures` / `Watermarks`. Five sub-features that users look up independently.

- **Chapter 9 (Workflows)**: Tabs â†’ `Create & Manage` / `All Workflows` / `My Workflows` / `Workflow Logs`. These are four distinct views within the same module â€” the distinction is important and gets lost if scrolled through linearly.

- **Chapter 10 (AI Features)**: Tabs â†’ `Document Generator` / `AI Summary` / `Deep Search` / `Prompt Templates` / `AI History`. Five distinct tools that users will access for different tasks.

- **Chapter 12 (Auditing & Logs)**: Tabs â†’ `Document Audit Trail` / `Login Logs` / `Email Logs` / `Cron Job Logs`. Four separate log interfaces â€” users rarely need all four simultaneously.

---

### 4. In-Chapter Card Switcher

Use a **card switcher** (horizontal scrollable row of clickable preview cards) in Chapter 3 (Document Library) for the document action menu table. Instead of a plain table of 13 actions, render each action as a clickable card:

```
[ Edit ] [ Share ] [ Shareable Link ] [ AI Summary ] [ View ] [ Upload Version ] ...
```

Clicking a card expands its detail in a panel below the row. Only one is expanded at a time.

```css
.card-switcher { display: flex; gap: 12px; overflow-x: auto; padding-bottom: 8px; }
.switcher-card {
  flex: 0 0 auto;
  background: var(--white);
  border: 1px solid var(--gray-200);
  border-radius: var(--radius-sm);
  padding: 12px 16px;
  cursor: pointer;
  font: 500 0.875rem 'Plus Jakarta Sans';
  color: var(--gray-800);
  white-space: nowrap;
  transition: border-color 0.2s, background 0.2s;
}
.switcher-card.active {
  border-color: var(--blue-700);
  background: var(--blue-50);
  color: var(--blue-700);
}
.switcher-detail {
  background: var(--blue-50);
  border: 1px solid var(--blue-100);
  border-radius: var(--radius-sm);
  padding: 20px 24px;
  margin-top: 12px;
  font: 400 0.9rem 'Plus Jakarta Sans';
  line-height: 1.7;
  animation: fadeIn 0.2s ease;
}
```

Each card has the action name. The expanded detail panel shows the description from the manual. Default: "Edit" card is active on load.

---

## SCROLL BEHAVIOR & INTERACTIONS (`js/sidebar.js`, `js/animations.js`, `js/chapters.js`)

### Chapter Tracking
Use `IntersectionObserver` on each `<section class="chapter">` with `threshold: 0.2`. When a chapter enters the viewport:
- Mark its sidebar entry as active (add class `.active`).
- Update the header's chapter counter: `Chapter N of 13`.
- Fill the sidebar progress bar proportionally.
- Mark previous chapters as "completed" (fill their sidebar dot in teal).

### Scroll Reveals
All `.chapter-header`, `.feature-block`, `.step-list`, `.data-table`, `.video-frame`, `.img-frame` elements start with:
```css
.reveal { opacity: 0; transform: translateY(24px); transition: opacity 0.5s ease, transform 0.5s ease; }
.reveal.visible { opacity: 1; transform: translateY(0); }
```
`IntersectionObserver` adds `.visible` when element enters viewport at `rootMargin: "0px 0px -60px 0px"`.

Stagger children of `.reveal-stagger > *` by adding `transition-delay: calc(var(--i) * 60ms)` where `--i` is set as a CSS custom property per child.

### Sidebar Mobile Drawer
On `< 900px`:
- Sidebar is hidden (`transform: translateX(-100%)`), becomes a drawer.
- Hamburger button in header toggles class `.sidebar-open` on `<body>`.
- Backdrop overlay appears behind the drawer when open (semi-transparent dark overlay, clicking it closes the drawer).
- Escape key closes the drawer.
- Focus trap inside the drawer when open.

### Smooth Scroll
All chapter nav links use `href="#ch-N"`. The native `scroll-behavior: smooth` on `<html>` handles this. On mobile, after clicking a chapter link, the drawer closes automatically.

---

## RESPONSIVENESS

- **â‰¥ 1024px**: Two-column layout with fixed 280px sidebar + content area.
- **768pxâ€“1023px**: Sidebar is a collapsible drawer (hamburger). Content area fills full width. Feature blocks still side-by-side if space allows.
- **< 768px**: Full mobile. All feature blocks stack vertically (image above, text below). Tables scroll horizontally in a wrapper div. Video and images full width. Hero tilt removed. Hero Three.js canvas simplified.
- No fixed pixel column widths. Use `calc(100% - 280px)` for the content area and a CSS custom property `--sidebar-w: 280px` for easy adjustment.
- Minimum supported width: 320px.
- All touch targets â‰¥ 44Ã—44px.

---

## ACCESSIBILITY & QUALITY

- `prefers-reduced-motion: reduce` must disable all CSS transitions and `animations.js` reveal animations. Three.js animation pauses.
- All images have descriptive `alt` text.
- All `<section>` elements have appropriate `aria-label` or `aria-labelledby`.
- Sidebar nav is a `<nav>` element with `aria-label="Chapter navigation"`.
- Color contrast: all body text must meet WCAG AA (4.5:1 minimum). With `var(--gray-800)` on `var(--white)`, this is comfortably met.
- Chapter links are keyboard-navigable with visible focus rings (`outline: 2px solid var(--blue-500); outline-offset: 2px`).

---

## FINAL CHECKLIST

Before finishing, verify:

**Structure & Navigation:**
- [ ] One `index.html` file only â€” no separate pages
- [ ] Sidebar built from `data/chapters.json` â€” 13 entries, progress bar, completion dots
- [ ] Fixed header with dynamic chapter counter ("Chapter N of 13")
- [ ] Floating jump-nav button (bottom-right) opens 13-chapter panel, closes on click or Escape
- [ ] `three-bg.js` full-page background: 30 planes, very low opacity, 30fps cap
- [ ] `three-hero.js` hero overlay: higher intensity, mouse parallax, pauses when hero out of view
- [ ] Both Three.js canvases respect `prefers-reduced-motion` (pause animation)
- [ ] All 13 chapters with correct IDs (`ch-1` through `ch-13`)
- [ ] Tab groups on chapters 2, 5, 9, 10, 12 â€” arrow-key navigable
- [ ] Card switcher on chapter 3 â€” 13 document actions, one expanded at a time
- [ ] Manual End block after Chapter 13

**Content (every manual section accounted for):**
- [ ] Â§3 Company Profile â€” ch-1, fields table, 3-step setup, branding image
- [ ] Â§3 User Profile â€” ch-1, fields table
- [ ] Â§3 Language Settings â€” ch-1, info box
- [ ] Â§4 Users, Roles, Role Assignment, Individual Permissions, Clients â€” ch-2
- [ ] Â§5 All Documents action table (including AI Summary), Assigned Documents, Archived, Expired â€” ch-3
- [ ] Â§6 Adding Documents, Bulk Upload, Version History, Comments â€” ch-4
- [ ] Â§7 Share Document, Shareable Link, Send Email, Signatures, Watermarks â€” ch-5
- [ ] Â§8 File Requests, Reviewing Submissions, Status table â€” ch-6
- [ ] Â§9 Standard Search, Deep Search â€” ch-7
- [ ] Â§10 Reminders form fields table, Notifications detail list â€” ch-8
- [ ] Â§11 All Workflows, My Workflows, Workflow Logs, Managing Workflows â€” ch-9
- [ ] Â§12 AI Generator, AI Summary, Prompt Templates, AI Document List â€” ch-10
- [ ] Â§13 Categories, Status, Storage, Extensions, SMTP, Page Helpers â€” ch-11
- [ ] Â§14 Document Audit History, Login Logs, Email Logs, all 12 Cron Jobs table â€” ch-12
- [ ] Â§15 Retention periods, 5 badge pills, enable/auto-delete flow â€” ch-13

**Assets:**
- [ ] All 19 asset filenames exactly as listed in the manifest
- [ ] Every missing asset renders a styled placeholder â€” not a broken `<img>` icon
- [ ] `demo-workflow.mp4` and `demo-ai.mp4` render with controls; placeholder if missing

**Technical:**
- [ ] No `localhost` URLs, no hardcoded absolute paths, no `node_modules`
- [ ] All CSS uses variables from the palette â€” no hardcoded hex colors outside `global.css`
- [ ] Three.js canvas is hero-section-scoped â€” not full-page fixed
- [ ] Three.js animation pauses when hero is out of viewport
- [ ] Cron job table horizontally scrollable on mobile
- [ ] All tables horizontally scrollable on mobile (wrapper with `overflow-x: auto`)
- [ ] Google Fonts loaded in `<head>` via CDN
- [ ] Three.js loaded via CDN `https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js`
- [ ] `prefers-reduced-motion` handled in CSS and JS
- [ ] Valid HTML5 with `lang="en"`, charset, viewport meta on the single HTML file
- [ ] Unique `<title>`: "CMR DMS / DocAI â€” User Manual"
- [ ] Unique `<meta name="description">`: "Complete user manual for CMR DMS / DocAI â€” covering all platform features from document library to AI generation, workflows, audit trails, and administration."

